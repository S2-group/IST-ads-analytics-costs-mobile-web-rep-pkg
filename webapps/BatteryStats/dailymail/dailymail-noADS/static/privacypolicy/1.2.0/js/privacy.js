!function(){function e(n){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(n)}var n=document.getElementById("privacycontent");if(console.log(n.dataset),"privacyid"in n.dataset)var t=n.dataset.privacyid;else t="2399";if("bgcol"in n.dataset){var a=n.dataset.bgcol;if(null!==a.match(/^#[a-f0-9]{6}$/i))var r=a;else null!==a.match(/^[a-f0-9]{6}$/i)&&(r="#"+a)}else r="#efefef";if("col"in n.dataset){var i=n.dataset.col;if(null!==i.match(/^#[a-f0-9]{6}$/i))var c=i;else null!==i.match(/^[a-f0-9]{6}$/i)&&(c="#"+i)}else c="#000000";var o=new XMLHttpRequest;o.open("GET","https://www.dmgmedia.co.uk/wp-json/wp/v2/privacy-policy/"+t,!0),o.responseType="json",o.send(),o.onreadystatechange=function(){if(o.readyState,4==o.readyState){var t=o.response,a=t.acf.privacypolicy,i=t.acf.last_updated;i=(i=i.slice(0,4)+"-"+i.slice(4)).slice(0,7)+"-"+i.slice(7);var p=new Date(i),l=t.acf.previous_version;l=(l=l.slice(0,4)+"-"+l.slice(4)).slice(0,7)+"-"+l.slice(7);var d=new Date(l),m={year:"numeric",month:"long",day:"numeric"},u=(t.acf.dsr_form_url,document.createElement("style"));u.innerHTML="\n            #privacycontent {\n                font-size:1rem;\n            }\n            .dmg-privacy .optanon-show-settings-popup-wrapper {\n                display: inline-block;\n                height: 2em;\n            }\n            .dmg-privacy p, .dmg-privacy li {\n                margin-bottom:1em;\n            }\n            .privacysection {\n                padding:10px !important;\n                color: #444;\n                cursor: pointer;\n                transition: 0.4s;\n                margin: 0 0 10px;\n                font-size: 1.2em;\n            }\n            .privacysection.active, .privacysection:hover {\n                background-color: #ccc;\n            }\n            h1.privacy-title {\n                margin-top: 0;\n            }\n            h6.privacy-date{\n                font-size:1.1em;\n                margin: 0 0 1em 0;\n            }\n\n            .privacypanel {\n                padding: 0 18px;\n                background-color: white;\n                max-height: 0;\n                overflow: hidden;\n                transition: max-height 0.2s ease-out;\n            }\n            .privacypanel p, .privacypanel li {\n                font-size:1em;\n                line-height:1.3;\n                margin-top:0;\n                margin-bottom:1em;\n            }\n            .privacypanel h3 {\n                font-size:1.4em;\n            }\n            .privacypanel h4 {\n                font-size:1.25em;\n                font-weight: 700;\n            }\n            .privacypanel h5 {\n                font-size:1.1em;\n                font-weight: 600;\n                margin-bottom: 1.5em;\n                margin-top:0;\n            }\n            .privacypanel h6 {\n                font-size:1.1em;\n            }\n            \n        ";var v=document.createElement("h6");v.classList.add("privacy-date"),v.innerHTML="Last updated: "+p.toLocaleDateString("en-GB",m);var g=document.createElement("h6");g.classList.add("privacy-date"),g.innerHTML="Previous version: "+d.toLocaleDateString("en-GB",m);var f=t.title.rendered,y=document.createElement("h1");y.classList.add("privacy-title"),y.innerHTML=f;var h=document.createElement("h2");h.classList.add("privacy-sub-title"),h.innerHTML="Privacy & Cookies Policy (the &#8220;Policy&#8221;)";var b=t.acf.introduction;b=b.replace(/\r\n\r\n/g,"</p><p>").replace(/\n\n/g,"</p><p>");var w=document.createElement("p");w.innerHTML=b;var E=t.acf.cookie_settings;E=E.replace(/\r\n\r\n/g,"</p><p>").replace(/\n\n/g,"</p><p>");var L=document.createElement("p");L.innerHTML=E,n.appendChild(u),n.appendChild(y),n.appendChild(h),n.appendChild(w),n.appendChild(v),n.appendChild(g),n.appendChild(L);var x,$=document.createElement("div");$.classList="privacyaccordion";for(var k=0;k<a.length;k++){var S=a[k],H=S.tab_title,_=S.tab_content,C=document.createElement("h3");C.innerHTML=H,C.classList="privacysection",C.style.backgroundColor=r,C.style.color=c;var j=document.createElement("div");j.classList="privacypanel",_=s(_),j.innerHTML=_,$.appendChild(C),$.appendChild(j),n.appendChild($)}var q=document.getElementsByClassName("privacysection");for(x=0;x<q.length;x++)q[x].addEventListener("click",(function(){this.classList.toggle("active");var e=this.nextElementSibling;e.style.maxHeight?e.style.maxHeight=null:e.style.maxHeight=e.scrollHeight+"px"}));var T=n.querySelectorAll(".cmp-settings-toggle");if("object"==("undefined"==typeof adverts?"undefined":e(adverts))&&null!==adverts)for(var M=0;M<T.length;M++)T[M].addEventListener("click",(function(e){e.preventDefault(),window.adverts.queue.push({scope:"openCmpBanner"})}));"#ccpaExplicitNotice"==window.location.hash&&document.querySelector("#ccpaExplicitNotice").closest(".privacypanel").previousSibling.click();for(var R=n.querySelectorAll(".optanon-show-settings"),z=0;z<R.length;z++)R[z].addEventListener("click",(function(e){e.preventDefault()}))}};var p=new XMLHttpRequest;function l(e){return e[0].replace("\n","<WPPreserveNewline />")}function s(e,n){void 0===n&&(n=!0);var t={};if(""===e.trim())return"";if((e+="\n").indexOf("<pre")>-1){var a=e.split("</pre>"),r=a.pop();e="",a.forEach((function(n,a){var r=n.indexOf("<pre");if(-1!==r){var i="<pre wp-pre-tag-"+a+"></pre>";t[i]=n.substr(r)+"</pre>",e+=n.substr(0,r)+i}else e+=n})),e+=r}var i="(?:table|thead|tfoot|caption|col|colgroup|tbody|tr|td|th|div|dl|dd|dt|ul|ol|li|pre|form|map|area|blockquote|address|math|style|p|h[1-6]|hr|fieldset|legend|section|article|aside|hgroup|header|footer|nav|figure|figcaption|details|menu|summary)";(e=(e=(e=(e=e.replace(/<br \/>\s*<br \/>/,"\n\n")).replace(new RegExp("(<"+i+"[^>]*>)","gmi"),"\n$1")).replace(new RegExp("(</"+i+">)","gmi"),"$1\n\n")).replace(/\r\n|\r/,"\n")).indexOf("<option")>-1&&(e=(e=e.replace(/\s*<option'/gim,"<option")).replace(/<\/option>\s*/gim,"</option>")),e.indexOf("</object>")>-1&&(e=(e=(e=e.replace(/(<object[^>]*>)\s*/gim,"$1")).replace(/\s*<\/object>/gim,"</object>")).replace(/\s*(<\/?(?:param|embed)[^>]*>)\s*/gim,"$1")),(e.indexOf("<source")>-1||e.indexOf("<track")>-1)&&(e=(e=(e=e.replace(/([<\[](?:audio|video)[^>\]]*[>\]])\s*/gim,"$1")).replace(/\s*([<\[]\/(?:audio|video)[>\]])/gim,"$1")).replace(/\s*(<(?:source|track)[^>]*>)\s*/gim,"$1"));var c=(e=e.replace(/\n\n+/gim,"\n\n")).split(/\n\s*\n/);return e="",c.forEach((function(n){e+="<p>"+n.replace(/^\s+|\s+$/g,"")+"</p>\n"})),e=(e=(e=(e=(e=(e=(e=(e=e.replace(/<p>\s*<\/p>/gim,"")).replace(/<p>([^<]+)<\/(div|address|form)>/gim,"<p>$1</p></$2>")).replace(new RegExp("<p>s*(</?"+i+"[^>]*>)s*</p>","gmi"),"$1",e)).replace(/<p>(<li.+?)<\/p>/gim,"$1")).replace(/<p><blockquote([^>]*)>/gim,"<blockquote$1><p>")).replace(/<\/blockquote><\/p>/gim,"</p></blockquote>")).replace(new RegExp("<p>s*(</?"+i+"[^>]*>)","gmi"),"$1")).replace(new RegExp("(</?"+i+"[^>]*>)s*</p>","gmi"),"$1"),n&&(e=(e=(e=e.replace(/<(script|style)(?:.|\n)*?<\/\\1>/gim,l)).replace(/(<br \/>)?\s*\n/gim,"<br />\n")).replace("<WPPreserveNewline />","\n")),e=(e=(e=e.replace(new RegExp("(</?"+i+"[^>]*>)s*<br />","gmi"),"$1")).replace(/<br \/>(\s*<\/?(?:p|li|div|dl|dd|dt|th|pre|td|ul|ol)[^>]*>)/gim,"$1")).replace(/\n<\/p>$/gim,"</p>"),Object.keys(t).length&&(e=e.replace(new RegExp(Object.keys(t).join("|"),"gi"),(function(e){return t[e]}))),e}p.open("GET","https://www.dmgmedia.co.uk/wp-json/wp/v2/privacy_hub_brand/?per_page=100",!0),p.responseType="json",p.send(),p.onreadystatechange=function(){p.readyState,4==p.readyState&&p.response.forEach((function(e){var n=e.acf.privacy_page_url,t=e.acf.data_subject_request_url;if(""!==n){var a=new URL(n),r=new URL(window.location.href);(r=r.hostname.replace("www.","").split(".")[0])==(a=a.hostname.replace("www.","").split(".")[0])&&""!=t&&document.querySelectorAll(".dsr-form").forEach((function(e){e.href=t}))}}))}}();